{% extends "base.html" %}
{% load static %}
{% block title %}{{ DetailsGameModel.name }} — PS5{% endblock %}

{% block content %}
<div style="margin-top:6rem;">
  <!-- Hero Image -->
  <div style="overflow:hidden;border-radius:20px;box-shadow:var(--shadow);">
    {% if DetailsGameModel.img %}
      <img src="{{ DetailsGameModel.img.url }}" alt="{{ DetailsGameModel.name }}" 
           style="width:100%;height:480px;object-fit:cover;transform:scale(1);transition:transform 0.5s ease;">
    {% else %}
      <img src="{% static 'img/no-image.png' %}" alt="no image" 
           style="width:100%;height:480px;object-fit:cover;">
    {% endif %}
  </div>

  <!-- Game Info Card -->
  <div class="card" style="margin-top:32px;padding:24px;">
    <h1 style="margin-bottom:12px;font-weight:800;font-size:1.8rem;">{{ DetailsGameModel.name }}</h1>
    {% if DetailsGameModel.category %}
      <span style="background:var(--accent-gradient);padding:6px 14px;border-radius:999px;color:white;font-weight:700;font-size:0.85rem;">{{ DetailsGameModel.category }}</span>
    {% endif %}
    <p class="muted" style="margin-top:12px;">{{ DetailsGameModel.description }}</p>
  </div>

  <!-- Metadata -->
  <div style="display:flex;flex-wrap:wrap;gap:12px;margin-top:16px;font-size:0.95rem;color:var(--text-muted);">
    {% if DetailsGameModel.release_date %}<div><strong>تاریخ انتشار:</strong> {{ DetailsGameModel.release_date }}</div>{% endif %}
    {% if DetailsGameModel.developer %}<div><strong>سازنده:</strong> {{ DetailsGameModel.developer }}</div>{% endif %}
  </div>

  <!-- Comments -->
  <div style="margin-top:40px;">{% include "games/comment.html" %}</div>
</div>

<script>
  const heroImg = document.querySelector('section img') || document.querySelector('div img');
  if(heroImg){
    heroImg.addEventListener('mouseenter',()=>heroImg.style.transform='scale(1.03)');
    heroImg.addEventListener('mouseleave',()=>heroImg.style.transform='scale(1)');
  }
</script>
{% endblock %}
